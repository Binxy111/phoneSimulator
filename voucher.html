<!DOCTYPE html>
<html>
<head>
	<title>Voucher</title>
<meta charset="utf-8">
<meta class="viewport" content="width=device-width , initial-scale=1">
<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.css">
</head>
<body class="bg-secondary">
<div align="center" class="container-fluid">
<h4 class="text-light">Voucher Generator</h4>
    <input type="text" name="" id="val" class="btn">
	<button id="myBtn" class="btn btn-dark">Generate</button>
	<div id="show" class="card bg-secondary col-md-3 mt-3"></div>
	<!-- <div><input type="text" id="testing"></div>
	<button onclick="loadSimulated()">h</button>
	<button onclick="testStorage()">testing</button> -->
</div>
</body>
<script type="text/javascript">
var btn=document.getElementById('myBtn');
	btn.onclick = function getestStorage() {
		var cardlist=[];
		var va=val.value;
		cardAmt=[50,100,200,400,500,1000];
		for(i=1;i<=va;i++) {
			var b='';
			for(t=1;t<=16;t++) {
				r=Math.random()*9;
				p=Math.ceil(r);
				b+=p;
				for (amt = 0; amt < cardAmt.length; amt++) {
			 	rand=cardAmt[Math.floor(Math.random() * cardAmt.length)];

			    }
			}
			console.log(rand);
			// var b=b.substring(0,4)+'-'+b.substring(4,8)+'-'+b.substring(8,12)+'-'+b.substring(12,16);
			cardlist.push([b,'New',rand]);
		}
		document.getElementById('show').innerHTML=cardlist.join('<br/>');
		if (localStorage.Voucher == undefined) {
			localStorage.setItem('Voucher',JSON.stringify(cardlist));
		}
		else{
			localStorage.setItem('Voucher',JSON.stringify(cardlist));
		}
	}
	// function loadSimulated(){
	// 	    retrievedData=localStorage.getItem('Voucher');
	// 	    card=JSON.parse(retrievedData);
	// 		for(v=0;v<card.length;v++){
	// 			if (testing.value==card[v][0]) {
	// 				alert(testing.value);
	// 				alert('in good shape');
	// 				card[v][1]='Used';	
	// 				localStorage.setItem('Voucher',JSON.stringify(card));
	// 				break;
	// 			}
	// 			else{alert('bad shape');}
	// 	 }
	// }

	function testStorage() {
		    retrievedData=localStorage.getItem('Voucher');
		    card=JSON.parse(retrievedData);
		    for (a=0;a<card.length;a++){
		    	// alert(card);
		    	// alert(card[a]);
		    	// alert(card[a][0]);
		    	// alert(card[a][1]);
		    	// alert(typeof(card[a][2]));
		    	// alert(card.length);
		    }
		    alert(typeof(parseInt(localStorage.Balance)));
	}
</script>
</html>